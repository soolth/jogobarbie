<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barbie: A Diva da Moda e das Probabilidades ‚ú®</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #ffe6f7; /* Um rosa suave e fashion! */
            background-image: url('https://static.vecteezy.com/ti/fotos-gratis/p1/13002116-fundo-abstrato-de-textura-de-glitter-rosa-foto.jpg'); /* Fundo de glitter rosa! */
            background-size: cover;
            background-position: center;
            font-size: 1em; /* Diminuindo a fonte base */
        }
        #jogo-container {
            background-color: white; /* Removendo a transpar√™ncia! */
            padding: 20px; /* Reduzindo o padding */
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            text-align: center;
            margin: 15px; /* Reduzindo a margem */
            max-width: 90%; /* Largura m√°xima para telas maiores */
        }
        #barbie-titulo {
            font-size: 2em; /* Reduzindo o tamanho do t√≠tulo */
            margin-bottom: 15px;
            color: #ff69b4;
            text-shadow: 1px 1px #f08080;
        }
        #pergunta-diva {
            font-size: 1.1em; /* Reduzindo o tamanho da pergunta */
            font-weight: bold;
            color: #da70d6;
            margin-bottom: 10px;
        }
        .opcao-look {
            padding: 10px 20px; /* Reduzindo o padding dos bot√µes */
            font-size: 0.9em; /* Reduzindo o tamanho do texto dos bot√µes */
            border: none;
            border-radius: 8px;
            background-color: #ba55d3;
            color: white;
            cursor: pointer;
            margin: 6px; /* Reduzindo a margem dos bot√µes */
            transition: background-color 0.3s ease;
            width: 90%; /* Ocupando mais largura em telas menores */
            display: block; /* Bot√µes em linhas separadas */
            margin-left: auto;
            margin-right: auto;
        }
        .opcao-look:hover {
            background-color: #9400d3;
        }
        #mensagem-diva {
            margin-top: 15px; /* Reduzindo a margem superior */
            font-size: 1em;
            font-weight: bold;
            color: #ff1493;
        }
        #status-diva {
            margin-top: 10px; /* Reduzindo a margem superior */
            font-size: 0.9em;
            color: #8a2be2;
        }
        #ranking-diva-container {
            margin-top: 20px; /* Reduzindo a margem superior */
            text-align: left;
        }
        #ranking-lista-diva {
            list-style-type: decimal;
            padding-left: 15px; /* Reduzindo o padding esquerdo */
            color: #c71585;
            font-size: 0.9em;
        }
        #salvar-ranking-btn {
            padding: 8px 15px; /* Reduzindo o padding do bot√£o */
            font-size: 0.9em;
            border: none;
            border-radius: 6px;
            background-color: #4682b4;
            color: white;
            cursor: pointer;
            margin-top: 8px; /* Reduzindo a margem superior */
            transition: background-color 0.3s ease;
        }
        #salvar-ranking-btn:hover {
            background-color: #2e648b;
        }
        #nome-diva {
            padding: 6px; /* Reduzindo o padding do input */
            margin-top: 8px; /* Reduzindo a margem superior */
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 0.9em;
            width: 80%; /* Ocupando mais largura */
            margin-left: auto;
            margin-right: auto;
            display: block;
        }
        #compartilhar-diva {
            margin-top: 20px; /* Reduzindo a margem superior */
        }
        #compartilhar-whatsapp-btn {
            padding: 8px 15px; /* Reduzindo o padding do bot√£o */
            font-size: 0.9em;
            border: none;
            border-radius: 6px;
            background-color: #25d366;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #compartilhar-whatsapp-btn:hover {
            background-color: #128c7e;
        }

        /* Media Queries para telas menores (at√© 600px de largura) */
        @media (max-width: 600px) {
            body {
                font-size: 0.9em; /* Reduzindo ainda mais a fonte */
            }
            #barbie-titulo {
                font-size: 1.8em;
            }
            #pergunta-diva {
                font-size: 1em;
            }
            .opcao-look {
                font-size: 0.8em;
                padding: 8px 15px;
            }
            #mensagem-diva {
                font-size: 0.9em;
            }
            #status-diva {
                font-size: 0.8em;
            }
            #ranking-lista-diva {
                font-size: 0.8em;
                padding-left: 10px;
            }
            #salvar-ranking-btn, #compartilhar-whatsapp-btn, #nome-diva {
                font-size: 0.8em;
            }
            #jogo-container {
                padding: 15px;
                margin: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="jogo-container">
        <div id="barbie-titulo">üëë Barbie: A Diva da Moda e das Probabilidades ‚ú®</div>
        <div id="status-diva">
            Vidas: <span id="vidas-diva">3</span> ‚ù§Ô∏è | Pontua√ß√£o: <span id="pontuacao-diva">0</span> üíé
        </div>
        <div id="pergunta-diva"></div>
        <div id="opcoes-diva">
            </div>
        <div id="mensagem-diva">Decifre as probabilidades fashion, amiga! üòâ</div>

        <div id="ranking-diva-container">
            <h2>üíñ Ranking das Divas da Moda Probabil√≠stica! üíñ</h2>
            <ol id="ranking-lista-diva"></ol>
            <input type="text" id="nome-diva" placeholder="Seu nome de diva fashion estrat√©gica!">
            <button id="salvar-ranking-btn" onclick="salvarRanking()">Salvar no Ranking! üèÜ</button>
        </div>

        <div id="compartilhar-diva">
            <button id="compartilhar-whatsapp-btn" onclick="compartilharNoWhatsapp()">Compartilhar no Whatsapp! üöÄ</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script>
        let vidasDiva = 3;
        let pontuacaoDiva = 0;
        let rankingDiva = carregarRanking(); // Carrega o ranking ao iniciar o jogo
        let desafioAtual = null;

        function carregarRanking() {
            const rankingSalvo = localStorage.getItem('barbieModaProbabilidadeRanking');
            return rankingSalvo ? JSON.parse(rankingSalvo) : [];
        }

        function salvarRankingLocal() {
            localStorage.setItem('barbieModaProbabilidadeRanking', JSON.stringify(rankingDiva));
        }

        function atualizarStatusDiva() {
            document.getElementById('vidas-diva').textContent = vidasDiva;
            document.getElementById('pontuacao-diva').textContent = pontuacaoDiva;
        }

        function apresentarDesafio() {
            desafioAtual = gerarDesafioDiva();
            document.getElementById('pergunta-diva').textContent = desafioAtual.pergunta;

            const opcoesDiv = document.getElementById('opcoes-diva');
            opcoesDiv.innerHTML = '';

            desafioAtual.opcoes.forEach(opcao => {
                const botaoOpcao = document.createElement('button');
                botaoOpcao.classList.add('opcao-look');
                botaoOpcao.textContent = opcao.texto;
                botaoOpcao.onclick = () => escolherResposta(opcao.probabilidadeAcerto);
                opcoesDiv.appendChild(botaoOpcao);
            });
        }

        function escolherResposta(probabilidadeEscolhida) {
            if (!desafioAtual) return;

            document.getElementById('mensagem-diva').textContent = "Analisando suas chances fashion, diva...";

            setTimeout(() => {
                const sorteio = Math.random();
                const probabilidadeCorreta = desafioAtual.probabilidadeCorreta;
                const margemErro = 0.1; // Uma pequena margem para considerar "acerto"

                if (Math.abs(probabilidadeEscolhida - probabilidadeCorreta) <= margemErro) {
                    document.getElementById('mensagem-diva').textContent = `Sua intui√ß√£o fashion probabil√≠stica √© incr√≠vel! +2 pontos! ü§©`;
                    pontuacaoDiva += 2;
                    confetti({
                        particleCount: 100,
                        spread: 70,
                        origin: { y: 0.6 }
                    }); // Confetes ao acertar!
                } else {
                    document.getElementById('mensagem-diva').textContent = `Hmm, as probabilidades fashion eram um pouco diferentes, amiga! üò• Menos 1 vida!`;
                    vidasDiva--;
                    if (vidasDiva <= 0) {
                        gameOverDiva();
                        return;
                    }
                }
                atualizarStatusDiva();
                apresentarDesafio();
            }, 1500);
        }

        function gerarDesafioDiva() {
            const desafiosModaProbabilidade = [
                {
                    pergunta: "Em um desfile com 5 vestidos de festa (alta chance de brilhar) e 2 looks casuais (baixa chance de impressionar), qual a probabilidade de a primeira modelo a entrar na passarela estar vestindo algo que realmente cause impacto?",
                    opcoes: [
                        { texto: "Aproximadamente 70%", probabilidadeAcerto: 0.7 },
                        { texto: "Aproximadamente 30%", probabilidadeAcerto: 0.3 },
                        { texto: "Exatamente 50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 0.7
                },
                {
                    pergunta: "Voc√™ tem 3 pares de sapatos de salto (mais usados em eventos) e 7 t√™nis (mais usados no dia a dia). Se voc√™ pegar um par de sapatos sem olhar, qual a probabilidade de ser um salto alto?",
                    opcoes: [
                        { texto: "30%", probabilidadeAcerto: 0.3 },
                        { texto: "70%", probabilidadeAcerto: 0.7 },
                        { texto: "50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 0.3
                },
                {
                    pergunta: "Em uma caixa de acess√≥rios com 1 colar de diamante (rar√≠ssimo), 5 colares de p√©rolas (comuns) e 4 pulseiras (comuns), qual a probabilidade de voc√™ sortear o item mais exclusivo?",
                    opcoes: [
                        { texto: "10%", probabilidadeAcerto: 0.1 },
                        { texto: "50%", probabilidadeAcerto: 0.5 },
                        { texto: "90%", probabilidadeAcerto: 0.9 }
                    ],
                    probabilidadeCorreta: 0.1
                },
                {
                    pergunta: "De 10 revistas de moda, 8 destacam a tend√™ncia de cores vibrantes para a esta√ß√£o. Se voc√™ escolher uma revista aleatoriamente, qual a probabilidade de pegar uma que fale sobre essa tend√™ncia?",
                    opcoes: [
                        { texto: "80%", probabilidadeAcerto: 0.8 },
                        { texto: "20%", probabilidadeAcerto: 0.2 },
                        { texto: "50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 0.8
                },
                {
                    pergunta: "Em um guarda-roupa com 4 vestidos estampados (tend√™ncia forte) e 6 vestidos lisos (cl√°ssicos), qual a probabilidade de a primeira pe√ßa que voc√™ escolher para um evento ser um vestido que esteja na moda?",
                    opcoes: [
                        { texto: "40%", probabilidadeAcerto: 0.4 },
                        { texto: "60%", probabilidadeAcerto: 0.6 },
                        { texto: "50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 0.4
                },
                {
                    pergunta: "Voc√™ est√° montando um look com 2 blusas estampadas (chamativas) e 5 blusas neutras (vers√°teis). Se voc√™ pegar uma blusa sem olhar, qual a probabilidade de escolher uma pe√ßa que seja mais f√°cil de combinar com outras roupas?",
                    opcoes: [
                        { texto: "Aproximadamente 71%", probabilidadeAcerto: 5/7 },
                        { texto: "Aproximadamente 29%", probabilidadeAcerto: 2/7 },
                        { texto: "Exatamente 50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 5/7
                },
                {
                    pergunta: "Em uma cole√ß√£o de bolsas com 3 clutches (usadas em festas), 4 bolsas de ombro (casuais) e 1 bolsa tote (espa√ßosa), se voc√™ escolher uma bolsa aleatoriamente, qual a probabilidade de ser uma bolsa ideal para uma ocasi√£o formal?",
                    opcoes: [
                        { texto: "12.5%", probabilidadeAcerto: 1/8 },
                        { texto: "37.5%", probabilidadeAcerto: 3/8 },
                        { texto: "50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 1/8
                },
                {
                    pergunta: "De 15 blogueiras de moda, 10 preferem usar prata e 5 preferem usar ouro. Se voc√™ encontrar uma blogueira aleat√≥ria, qual a probabilidade de ela estar usando acess√≥rios prateados?",
                    opcoes: [
                        { texto: "Aproximadamente 67%", probabilidadeAcerto: 10/15 },
                        { texto: "Aproximadamente 33%", probabilidadeAcerto: 5/15 },
                        { texto: "Exatamente 50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 10/15
                },
                {
                    pergunta: "Voc√™ est√° escolhendo um len√ßo para complementar seu look. Tem 6 len√ßos de seda (mais elegantes) e 2 len√ßos de algod√£o (mais casuais). Se voc√™ pegar um len√ßo sem olhar, qual a probabilidade de escolher um acess√≥rio que adicione um toque de sofistica√ß√£o?",
                    opcoes: [
                        { texto: "25%", probabilidadeAcerto: 2/8 },
                        { texto: "75%", probabilidadeAcerto: 6/8 },
                        { texto: "50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 6/8
                },
                {
                    pergunta: "Em uma arara de roupas com 7 saias (3 curtas, 4 longas) e 5 cal√ßas (todas compridas), se voc√™ pegar uma pe√ßa de roupa sem olhar, qual a probabilidade de ser uma pe√ßa curta?",
                    opcoes: [
                        { texto: "30%", probabilidadeAcerto: 3/12 },
                        { texto: "Aproximadamente 42%", probabilidadeAcerto: 5/12 },
                        { texto: "Aproximadamente 58%", probabilidadeAcerto: 7/12 }
                    ],
                    probabilidadeCorreta: 3/12
                },
                 {
                    pergunta: "Voc√™ tem 4 chap√©us de abas largas (mais usados no ver√£o) e 3 gorros (mais usados no inverno). Se voc√™ pegar um chap√©u aleatoriamente, qual a probabilidade de ser um item mais adequado para os dias quentes?",
                    opcoes: [
                        { texto: "Aproximadamente 57%", probabilidadeAcerto: 4/7 },
                        { texto: "Aproximadamente 43%", probabilidadeAcerto: 3/7 },
                        { texto: "Exatamente 50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 4/7
                },
                {
                    pergunta: "Em uma paleta de cores com 6 tons pastel (tend√™ncia suave) e 4 cores neon (tend√™ncia vibrante), se um maquiador escolher uma cor aleatoriamente para um look de passarela, qual a probabilidade de ser uma cor que siga a tend√™ncia mais discreta?",
                    opcoes: [
                        { texto: "40%", probabilidadeAcerto: 4/10 },
                        { texto: "60%", probabilidadeAcerto: 6/10 },
                        { texto: "50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 6/10
                },
                {
                    pergunta: "Voc√™ est√° escolhendo um cinto para um vestido. Tem 5 cintos finos (mais elegantes) e 2 cintos largos (mais casuais). Se voc√™ pegar um cinto sem olhar, qual a probabilidade de escolher um acess√≥rio que valorize a silhueta de forma mais formal?",
                    opcoes: [
                        { texto: "Aproximadamente 71%", probabilidadeAcerto: 5/7 },
                        { texto: "Aproximadamente 29%", probabilidadeAcerto: 2/7 },
                        { texto: "Exatamente 50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 5/7
                },
                {
                    pergunta: "Em uma vitrine de joias com 2 an√©is de prata (mais acess√≠veis) e 1 anel de ouro com diamante (mais luxuoso), se um cliente escolher um anel aleatoriamente, qual a probabilidade de ele escolher a pe√ßa mais valiosa?",
                    opcoes: [
                        { texto: "Aproximadamente 33%", probabilidadeAcerto: 1/3 },
                        { texto: "Aproximadamente 67%", probabilidadeAcerto: 2/3 },
                        { texto: "Exatamente 50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 1/3
                },
                {
                    pergunta: "Voc√™ tem 3 √≥culos de sol com arma√ß√£o cl√°ssica (sempre na moda) e 2 com arma√ß√µes da √∫ltima tend√™ncia (podem sair de moda r√°pido). Se voc√™ pegar um par de √≥culos sem olhar, qual a probabilidade de escolher um acess√≥rio que provavelmente continuar√° estiloso por mais tempo?",
                    opcoes: [
                        { texto: "40%", probabilidadeAcerto: 2/5 },
                        { texto: "60%", probabilidadeAcerto: 3/5 },
                        { texto: "50%", probabilidadeAcerto: 0.5 }
                    ],
                    probabilidadeCorreta: 3/5
                }
            ];
            return desafiosModaProbabilidade[Math.floor(Math.random() * desafiosModaProbabilidade.length)];
        }

        function gameOverDiva() {
            document.getElementById('pergunta-diva').textContent = `Game Over, diva! üò≠ Suas previs√µes fashion probabil√≠sticas chegaram ao fim com ${pontuacaoDiva} üíé`;
            document.getElementById('opcoes-diva').innerHTML = '<button class="opcao-look" onclick="reiniciarJogoDiva()">Tentar prever as tend√™ncias de novo, amiga! ‚ú®</button>';
            document.getElementById('mensagem-diva').textContent = 'Mostre sua intui√ß√£o fashion e probabil√≠stica novamente!';
            document.getElementById('compartilhar-diva').style.display = 'block';
        }

        function reiniciarJogoDiva() {
            vidasDiva = 3;
            pontuacaoDiva = 0;
            atualizarStatusDiva();
            document.getElementById('mensagem-diva').textContent = 'Prepare-se para analisar as chances do mundo da moda, amiga! üòâ';
            document.getElementById('opcoes-diva').innerHTML = '';
            apresentarDesafio();
            document.getElementById('compartilhar-diva').style.display = 'none';
        }

        function salvarRanking() {
            const nomeDiva = document.getElementById('nome-diva').value.trim();
            if (nomeDiva) {
                rankingDiva.push({ nome: nomeDiva, pontos: pontuacaoDiva });
                rankingDiva.sort((a, b) => b.pontos - a.pontos);
                atualizarRankingVisualDiva();
                salvarRankingLocal(); // Salva o ranking no localStorage
                document.getElementById('nome-diva').value = '';
            } else {
                alert('Digite seu nome de diva da moda estrat√©gica!');
            }
        }

        function atualizarRankingVisualDiva() {
            const rankingListaDiva = document.getElementById('ranking-lista-diva');
            rankingListaDiva.innerHTML = '';
            for (let i = 0; i < rankingDiva.length; i++) {
                const itemRankingDiva = document.createElement('li');
                itemRankingDiva.textContent = `${rankingDiva[i].nome}: ${rankingDiva[i].pontos} pontos üíé`;
                rankingListaDiva.appendChild(itemRankingDiva);
            }
        }

        function compartilharNoWhatsapp() {
            const mensagem = `Diva da moda probabil√≠stica na √°rea! üëë Olha s√≥ minha pontua√ß√£o em Barbie: A Diva da Moda e das Probabilidades: ${pontuacaoDiva} üíé! Arrasei nas minhas previs√µes fashion! ‚ú® Jogue tamb√©m!`;
            const url = `https://wa.me/?text=${encodeURIComponent(mensagem)}`;
            window.open(url, '_blank');
        }

        // Iniciar o jogo!
        atualizarStatusDiva();
        apresentarDesafio();
        document.getElementById('compartilhar-diva').style.display = 'none';
        atualizarRankingVisualDiva(); // Exibe o ranking carregado inicialmente
    </script>
</body>
</html>